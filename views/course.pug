extends layout

block head
  link(rel="stylesheet", href="/stylesheets/course.css")
  script(type="module", src="/javascripts/course.js") 

block content
  main(class="container d-flex align-items-start justify-content-center")
    .card.me-5.col-6
      img(class="card-img-top" src=course.image, alt=course.name)
      .card-body
        h5(class="card-title") #{course.name}
        p(class="card-text") #{course.description}
      ul(class="list-group list-group-flush")
        li(class="list-group-item") #{course.Category.name}
        li(class="list-group-item") #{course.workload}h
      .card-body
        a(href="/courses", class="btn btn-primary") Close

    .d-flex.flex-column.col-6
      .progress.mb-3(role="progressbar", aria-label="Basic example", aria-valuemin="0", aria-valuemax="100")
        .progress-bar
      .card.mb-5
        form
          .card-body.d-flex.justify-content-between
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck1")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck2")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck3")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck4")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck5")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck6")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck7")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck8")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck9")
            .form-check
              input(class="form-check-input", type="checkbox", value="", id="defaultCheck10")
          .card-footer.text-center
            button(type="submit", class="btn btn-primary") Submit Course

      table.table.table-striped
        thead
          tr
            th.col Image
            th.col Name

            if role !== 'student'
              th.col.text-center Actions
        tbody
          if subscriptions.length === 0
            tr
              td(colspan="3" class="text-center") No subscriptions found
          else
            each subscription in subscriptions
              tr(class="align-middle")
                td
                  img(src=subscription.User.image, alt=subscription.User.name)
                td #{subscription.User.name}

                if role !== 'student'
                  td
                    .d-flex.justify-content-center
                      form(action=`/courses/remove_subscription/${subscription.id}?_method=DELETE&courseId=${course.id}`, method="POST")
                        button(type="submit", class=`btn btn-dark btn-sm`)
                          i.bx.bx-trash